// ========================
// WAYBAR åŒçŠ¶æ€æ é…ç½®æ–‡ä»¶
// ä¸»çŠ¶æ€æ  + ç²¾ç®€æŒ‡ç¤ºå™¨
// ========================

[
  // ======================
  // ä¸»çŠ¶æ€æ é…ç½® (MAIN BAR)
  // ======================
  {
    // åŸºç¡€è®¾ç½®
    "layer": "top",
    "position": "top",   // å›ºå®šäºå±å¹•é¡¶éƒ¨
    "name": "first",     // çŠ¶æ€æ å”¯ä¸€æ ‡è¯†å

    // ---------------
    // å·¦ä¾§æ¨¡å—å¸ƒå±€
    // ---------------
    "modules-left": [
      "tray",             // ç³»ç»Ÿæ‰˜ç›˜å›¾æ ‡
      "custom/spacer1",   // è‡ªå®šä¹‰åˆ†éš”ç¬¦1
      "custom/desktop-files", // è‡ªå®šä¹‰æ¡Œé¢æ–‡ä»¶æ¨¡å—
      "custom/playerctl" // åª’ä½“æ§åˆ¶æ¨¡å—
    ],


    // ---------------
    // ä¸­é—´æ¨¡å—å¸ƒå±€
    // ---------------

    "modules-center": [
      // "custom/spacer1",   // è‡ªå®šä¹‰åˆ†éš”ç¬¦1
      // "hyprland/workspaces",  // Hyprland å·¥ä½œåŒºåˆ‡æ¢å™¨
      "hyprland/window"   // å½“å‰çª—å£æ ‡é¢˜
    ],

    // ---------------
    // å³ä¾§æ¨¡å—å¸ƒå±€
    // ---------------
    "modules-right": [
      "backlight",          // å±å¹•äº®åº¦æ§åˆ¶
      "custom/system-stats", // è‡ªå®šä¹‰ç³»ç»Ÿç›‘æ§
      "network#info",       // ç½‘ç»œçŠ¶æ€ä¿¡æ¯
      "pulseaudio#input",   // éº¦å…‹é£è¾“å…¥éŸ³é‡
      "pulseaudio#output", // æ‰¬å£°å™¨è¾“å‡ºéŸ³é‡
      "battery",            // ç”µæ± çŠ¶æ€
      "clock",               // æ—¶é—´ä¸æ—¥æœŸ
      "custom/spacer1",   // è‡ªå®šä¹‰åˆ†éš”ç¬¦2
      // "custom/spacer1",   // è‡ªå®šä¹‰åˆ†éš”ç¬¦1
      "custom/wlogout_tool" // è‡ªå®šä¹‰æ³¨é”€å·¥å…·
    ],

    // ---------------------------
    // æ¨¡å—è¯¦ç»†é…ç½® (æŒ‰å­—æ¯é¡ºåº)
    // ---------------------------

    // èƒŒå…‰æ§åˆ¶æ¨¡å—
    "backlight": {
      "device": "intel_backlight",   // æŒ‡å®šèƒŒå…‰è®¾å¤‡
      "format": "{icon} {percent}%", // æ˜¾ç¤ºæ ¼å¼ï¼šå›¾æ ‡+ç™¾åˆ†æ¯”
      "format-icons": [              // äº®åº¦ç­‰çº§å›¾æ ‡ï¼ˆéœ€ Nerd Fontï¼‰
        "ó±©", "ó±©‘", "ó±©“", "ó±©•", "ó°›¨"     // 5çº§äº®åº¦å›¾æ ‡
      ],
      "scroll-step": 5              // æ»šè½®è°ƒæ•´æ­¥é•¿ï¼ˆç™¾åˆ†æ¯”ï¼‰
    },

    // ç”µæ± çŠ¶æ€æ¨¡å—
    "battery": {
      "interval": 10,                     // åˆ·æ–°é—´éš”ï¼ˆç§’ï¼‰
      "states": {                         // ç”µé‡çŠ¶æ€é˜ˆå€¼
        "warning": 20,                    // 20% æ—¶æ˜¾ç¤ºè­¦å‘Š
        "critical": 10                    // 10% æ—¶æ˜¾ç¤ºä¸¥é‡è­¦å‘Š
      },
      "format": "{icon} {capacity}%",      // å¸¸è§„æ˜¾ç¤ºæ ¼å¼
      "format-charging": "ïƒ§ {capacity}%", // å……ç”µçŠ¶æ€æ ¼å¼
      "format-full": "{icon} {capacity}%",// æ»¡ç”µçŠ¶æ€æ ¼å¼
      "format-icons": [                   // ç”µé‡å›¾æ ‡åˆ†çº§
        "ï‰„", "ï‰ƒ", "ï‰‚", "ï‰", "ï‰€"          // 0-20%, 20-40%, 40-60%, 60-80%, 80-100%
      ],
      "tooltip-format": "ïƒ§ {power}W"      // æ‚¬åœæ˜¾ç¤ºå……ç”µåŠŸç‡
    },

    // ä¿®æ”¹åçš„åª’ä½“æ§åˆ¶æ¨¡å—
    "custom/playerctl": {
      "exec": "~/.config/waybar/playerctl.sh",
      "interval": 3,
      "return-type": "json",
      "on-click": "playerctl play-pause",
      "on-click-right": "playerctl stop",
      "smooth-scrolling-threshold": 10, // This value was tested using a trackpad, it should be lowered if using a mouse.
      "on-scroll-up": "playerctl next",
      "on-scroll-down": "playerctl previous",
      "format": "{}",        // æ˜¾ç¤ºå›¾æ ‡+çŠ¶æ€
      "max-length": 20,
      "signal": 1
    },

    // æ–°å¢è‡ªå®šä¹‰ç³»ç»Ÿç›‘æ§æ¨¡å—
    "custom/system-stats": {
      "exec": "~/.config/waybar/system-stats.sh",
      "interval": 5,
      "format": "ï‹‰ {}",
      "return-type": "json",
      "on-click": "kitty --class=sysmon htop"
    },

    // ä¼˜åŒ–åçš„çª—å£æ¨¡å—
    "hyprland/window": {
      "format": "{title}",
      "max-length": 20,
      "icon": true,
      "tooltip-format": "App: {class}\nTitle: {title}",
      "icon-size": 18
    },

    // æ—¶é’Ÿæ¨¡å—
    "clock": {
      "interval": 10,                     // åˆ·æ–°é—´éš”
      "format": "î™ {:%H:%M}",             // ä¸»æ˜¾ç¤ºæ ¼å¼ï¼ˆæ—¶é—´ï¼‰
      "tooltip-format": "Current date: {:%d.%m.%Y} \n\n<tt><small>{calendar}</small></tt>", // æ‚¬åœä¿¡æ¯
      "calendar": {                       // æ—¥å†å¼¹å‡ºé…ç½®
        "mode": "year",                   // é»˜è®¤æ˜¾ç¤ºå¹´è§†å›¾
        "mode-mon-col": 3,                // æœˆä»½è§†å›¾åˆ—æ•°
        "weeks-pos": "right",             // å‘¨æ•°æ˜¾ç¤ºä½ç½®
        "format": {                       // æ—¥å†å…ƒç´ æ ·å¼
          "months": "<span color='#cba6f7'><b>{}</b></span>",
          "days": "<span color='#cdd6f4'><b>{}</b></span>",
          "weeks": "<span color='#94e2d5'> W{}</span>",
          "weekdays": "<span color='#f9e2af'><b>{}</b></span>",
          "today": "<span color='#f5e0dc'><b><u>{}</u></b></span>"
        }
      },
      "actions": {                        // äº¤äº’æ“ä½œç»‘å®š
        // "on-click-forward": "tz_up",      // å‰è¿›æŒ‰é’®åˆ‡æ¢æ—¶åŒº
        // "on-click-backward": "tz_down",   // åé€€æŒ‰é’®åˆ‡æ¢æ—¶åŒº
        // "on-scroll-up": "shift_up",       // æ»šè½®ä¸Šæ»‘è°ƒæ•´æ—¥æœŸ
        // "on-scroll-down": "shift_down",    // æ»šè½®ä¸‹æ»‘è°ƒæ•´æ—¥æœŸ
        "on-click-right": "mode"         // å³é”®åˆ‡æ¢è§†å›¾æ¨¡å¼
      }
    },

    // Hyprland å·¥ä½œåŒºæ¨¡å—
    "hyprland/workspaces": {
      "disable-scroll-wraparound": true, // ç¦ç”¨å¾ªç¯æ»šåŠ¨
      "format": "{icon}",                // ä»…æ˜¾ç¤ºå›¾æ ‡
      "format-icons": {                 // ç‰¹æ®Šå·¥ä½œåŒºå›¾æ ‡
        "magic": "XD",            // åä¸º "magic" çš„å·¥ä½œåŒº
        "10": "ó°Š´â€‰"                      // å·¥ä½œåŒº 10 çš„å›¾æ ‡
      },
      "show-special": true              // æ˜¾ç¤ºç‰¹æ®Šå·¥ä½œåŒº
    },

    // "temperature": {
    //   "critical-threshold": 90,
    //   "format": "{icon} {temperatureC}Â°", // ä»…æ˜¾ç¤ºå›¾æ ‡+æ¸©åº¦
    //   "format-icons": ["ï‹‹", "ï‹Š", "ï‹‰", "ï‹ˆ", "ï‹‡"],
    //   "interval": 5  // å¢åŠ åˆ·æ–°é¢‘ç‡
    // },

    // // CPU ç›‘æ§æ¨¡å—
    // "cpu": {
    //   "interval": 5,                     // æ›´å¿«çš„åˆ·æ–°é—´éš”
    //   "format": "ï‹› {usage}%",            // å›¾æ ‡+ä½¿ç”¨ç‡
    //   "tooltip": "ï‹› {load}",             // æ‚¬åœæ˜¾ç¤ºè´Ÿè½½è¯¦æƒ…
    //   "states": {                        // çŠ¶æ€é˜ˆå€¼
    //     "warning": 80,                  // 80% æ˜¾ç¤ºè­¦å‘Š
    //     "critical": 95                  // 95% æ˜¾ç¤ºä¸¥é‡è­¦å‘Š
    //   }
    // },

    // // ç£ç›˜ä½¿ç”¨æ¨¡å—
    // "disk": {
    //   "interval": 10,                    // åˆ·æ–°é—´éš”
    //   "format": "ïƒ‡ {percentage_used}%",  // å›¾æ ‡+ä½¿ç”¨ç™¾åˆ†æ¯”
    //   "tooltip-format": "Free {free}"     // æ‚¬åœæ˜¾ç¤ºå‰©ä½™ç©ºé—´
    // },

    // // ç‰©ç†å†…å­˜ç›‘æ§
    // "memory#ram": {
    //   "interval": 5,
    //   "format": "î¿… {percentage}%",      // å›¾æ ‡+ä½¿ç”¨ç™¾åˆ†æ¯”
    //   "tooltip-format": "{used}/{total} GiB", // æ‚¬åœæ˜¾ç¤ºå…·ä½“ç”¨é‡
    //   "states": {
    //     "warning": 80,
    //     "critical": 95
    //   }
    // },

    // // äº¤æ¢åˆ†åŒºç›‘æ§
    // "memory#swap": {
    //   "interval": 5,
    //   "format": "ó°¾µ {swapPercentage}%",  // ä¸åŒå›¾æ ‡åŒºåˆ†
    //   "tooltip-format": "{swapUsed}/{swapTotal}GiB"
    // },

    // ç½‘ç»œçŠ¶æ€æ¨¡å—
    "network#info": {
      "interval": 3,                    // å®æ—¶åˆ·æ–°
      "format-wifi": "{icon} {bandwidthDownBits}", // WiFi æ˜¾ç¤ºæ ¼å¼
      "format-ethernet": "ó°ˆ€ {bandwidthDownBits}", // æœ‰çº¿è¿æ¥å›¾æ ‡
      "format-icons": [                 // WiFi ä¿¡å·å¼ºåº¦å›¾æ ‡
        "ó°¤«", "ó°¤Ÿ", "ó°¤¢", "ó°¤¥", "ó°¤¨"      // 0-25%, 25-50%, 50-75%, 75-100%
      ],
      "tooltip-format-wifi": "{ifname}\n{essid}\n{signalStrength}% \n{frequency} GHz\nó°‡š {bandwidthDownBits}\nó°•’ {bandwidthUpBits}\nIP: {ipaddr}", // æ‚¬åœæ˜¾ç¤º WiFi è¯¦æƒ…
      "on-click": "iwctl"              // ç‚¹å‡»å¯åŠ¨ç½‘ç»œç®¡ç†
    },

    // éŸ³é¢‘è¾“å‡ºæ¨¡å—
    "pulseaudio#output": {
      "format": "{icon} {volume}%",      // å›¾æ ‡+éŸ³é‡ç™¾åˆ†æ¯”
      "format-bluetooth": "{icon}ïŠ” {volume}%", // è“ç‰™è®¾å¤‡å‰ç¼€
      "format-icons": {                 // è®¾å¤‡ç±»å‹å›¾æ ‡
        "headphone": "ï€¥",               // è€³æœºå›¾æ ‡
        "default": ["ï€§", "ï€¨"]           // é»˜è®¤æ‰¬å£°å™¨å›¾æ ‡ï¼ˆé™éŸ³/éé™éŸ³ï¼‰
      },
      "scroll-step": 5,                 // æ»šè½®è°ƒæ•´æ­¥é•¿
      "on-click": "pactl set-sink-mute @DEFAULT_SINK@ toggle" // ç‚¹å‡»é™éŸ³
    },

    // éº¦å…‹é£è¾“å…¥æ¨¡å—
    "pulseaudio#input": {
      "format": "î´ƒ {format_source}",    // éº¦å…‹é£å›¾æ ‡
      "on-scroll-up": "sh -c 'vol=$(pactl get-source-volume @DEFAULT_SOURCE@ | grep -oP \"\\d+(?=%)\" | head -1); if [ \"$vol\" -lt 100 ]; then pactl set-source-volume @DEFAULT_SOURCE@ +5%; fi'", // éŸ³é‡å¢åŠ è„šæœ¬
      "max-volume": "100",              // æœ€å¤§éŸ³é‡é™åˆ¶
      "on-click": "pactl set-source-mute @DEFAULT_SOURCE@ toggle" // ç‚¹å‡»é™éŸ³
    },

    // ç³»ç»Ÿæ‰˜ç›˜æ¨¡å—
    "tray": {
      "icon-size": 18,                  // æ‰˜ç›˜å›¾æ ‡å°ºå¯¸
      "spacing": 10                      // å›¾æ ‡é—´è·
    },

    // ========================
    // è‡ªå®šä¹‰åˆ†éš”ç¬¦æ¨¡å—
    // ========================
    "custom/spacer1": { "format": "|", "tooltip": false },
    "custom/spacer2": { "format": " ",  "tooltip": false },  // ç©ºæ ¼åˆ†éš”
    "custom/thin-vertical-bar": { "format": "|",  "tooltip": false },  // ç©ºæ ¼åˆ†éš”
    "custom/wlogout_tool": {
      "on-click": "wlogout",
      // show arch icon
      "format": "ïŒƒ ",
      "icon-size": 18,
      "tooltip-format": "<span color='#f9e2af'>Logout</span>"
    },
    "custom/desktop-files": {
        "format": "ğŸ“",
        "on-click": "~/.config/waybar/desktop-files.sh",
        "tooltip": false
    }
  },

  // ============================
  // ç¬¬äºŒçŠ¶æ€æ  (INDICATOR BAR)
  // ç”¨äºç‰¹æ®Šåœºæ™¯çš„æç®€çŠ¶æ€æ 
  // ============================
  {
    "layer": "top",
    "position": "bottom",        // å›ºå®šäºå±å¹•åº•éƒ¨
    "name": "second",          // æ ‡è¯†å

    // ---------------
    // ä¸­é—´æ¨¡å—å¸ƒå±€
    // ---------------
    "modules-center": [
      "hyprland/workspaces"  // Hyprland å·¥ä½œåŒºåˆ‡æ¢å™¨
    ],

    // Hyprland å·¥ä½œåŒºæ¨¡å—
    "hyprland/workspaces": {
      "disable-scroll-wraparound": true, // ç¦ç”¨å¾ªç¯æ»šåŠ¨
      "format": "{icon}",                // ä»…æ˜¾ç¤ºå›¾æ ‡
      "format-icons": {                 // ç‰¹æ®Šå·¥ä½œåŒºå›¾æ ‡
        "magic": "ğŸ¥µ",            // åä¸º "magic" çš„å·¥ä½œåŒº
        "10": "ó°Š´â€‰"                      // å·¥ä½œåŒº 10 çš„å›¾æ ‡
      },
      "show-special": true              // æ˜¾ç¤ºç‰¹æ®Šå·¥ä½œåŒº
    },

  }
]
